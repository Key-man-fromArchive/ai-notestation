# 260205-1 Plan Snapshot

## Current State Summary

### Core Platform (Completed)
- NSX import expanded to parse notes + images into DB.
- Notes API now served from DB for lists, detail, and notebooks.
- Rich text editor (TipTap) added with tables/colors/links/attachments/images.
- AI summary insertion into notes supported.
- AI-NoteStation native backup export/import added (ainx-1 format).
- Attachment upload/association/delete supported; export includes attachments.
- content_json stored alongside HTML; migration added.

### Tests
- Backend: `pytest --tb=short` passed (517 tests, existing AsyncMock warnings only).
- Frontend: `npm test` passed (79 tests).

### P6: Member Auth & Org (Planned)
Added to TASKS (not yet implemented):
- P6-T6.1: orgs/users/memberships/note_access schema + migration
- P6-T6.2: member auth API (signup/login/invite/accept/refresh)
- P6-T6.3: RBAC access control (org + note sharing)
- P6-T6.4: login/signup UI
- P6-T6.5: members management UI
- P6-T6.6: authz/security tests

## Files Added/Updated
- backend/app/services/nsx_parser.py
- backend/app/api/nsx.py
- backend/app/api/notes.py
- backend/app/api/files.py
- backend/app/api/export.py
- backend/app/api/backup.py
- backend/app/models.py
- backend/migrations/versions/003_note_attach_json.py
- frontend/src/components/NoteEditor.tsx
- frontend/src/components/NoteAIPanel.tsx
- frontend/src/pages/NoteDetail.tsx
- frontend/src/pages/Settings.tsx
- frontend/vitest.config.ts
- TASKS.md (P6 added)

## Next Steps (if proceeding)
1) Implement P6-T6.1 database schema + migration.
2) Implement auth + invites API and RBAC.
3) Add login/signup + members UI.
4) Add authz tests.
